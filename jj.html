<!DOCTYPE html>
<html>
<head>
  <title>빠빰 삭제기</title>
</head>
<body>
  <h3>Firebase에서 '빠빰' 데이터 삭제 중...</h3>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import {
      getDatabase,
      ref,
      get,
      remove,
      child
    } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBle_FLyJxn7v9AMQXlCo7U7hjcx88WrlU",
      authDomain: "knight-tour-ranking.firebaseapp.com",
      databaseURL: "https://knight-tour-ranking-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "knight-tour-ranking",
      storageBucket: "knight-tour-ranking.appspot.com",
      messagingSenderId: "984280335242",
      appId: "1:984280335242:web:f1fe1ffbf445e5461e7f68"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const boardSize = "7x7"; // 필요시 수정
    const targetRef = ref(db, `rankings/${boardSize}`);

    get(targetRef).then(snapshot => {
      if (!snapshot.exists()) {
        alert("데이터가 없습니다.");
        return;
      }

      let count = 0;
      snapshot.forEach(childSnap => {
        const data = childSnap.val();
        if (data.name === "빠빰") {
          remove(child(childSnap.ref, "")).then(() => {
            console.log(`삭제됨: ${childSnap.key}`);
          }).catch(err => {
            console.error(`삭제 실패: ${childSnap.key}`, err);
          });
          count++;
        }
      });

      alert(`삭제 요청 완료: ${count}개`);
    }).catch(
