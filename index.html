<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>기사의 여행 퍼즐 게임 - 데블스플랜 시즌2 체험</title>
  <meta name="description" content="넷플릭스 데블스플랜 시즌2에 등장한 체스 퍼즐 '기사의 여행'을 웹에서 직접 체험해보세요. 나이트를 움직여 퍼즐을 풀고, 전 세계 유저들과 랭킹을 겨뤄보세요." />
  <meta name="keywords" content="기사의 여행, 체스 퍼즐, 나이트 퍼즐, 데블스플랜 퍼즐, 넷플릭스 퍼즐, knight tour puzzle, Netflix Devil's Plan" />
  <link rel="canonical" href="https://hoony8355.github.io/knight-tour-ko/" />

  <!-- Open Graph -->
  <meta property="og:title" content="기사의 여행 퍼즐 게임 - 데블스플랜 시즌2 체험" />
  <meta property="og:description" content="넷플릭스 데블스플랜 시즌2에서 화제가 된 퍼즐 '기사의 여행'을 직접 플레이해보세요!" />
  <meta property="og:image" content="https://upload.wikimedia.org/wikipedia/commons/8/8c/Chess_knight.jpg" />
  <meta property="og:url" content="https://hoony8355.github.io/knight-tour-ko/" />
  <meta property="og:type" content="website" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="기사의 여행 퍼즐 게임 - 데블스플랜 시즌2 체험" />
  <meta name="twitter:description" content="데블스플랜 시즌2의 두뇌 퍼즐 '기사의 여행'을 직접 플레이하고 글로벌 랭킹에 도전해보세요." />
  <meta name="twitter:image" content="https://upload.wikimedia.org/wikipedia/commons/8/8c/Chess_knight.jpg" />

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Game",
    "name": "기사의 여행 퍼즐 게임",
    "url": "https://hoony8355.github.io/knight-tour-ko/",
    "image": "https://upload.wikimedia.org/wikipedia/commons/8/8c/Chess_knight.jpg",
    "description": "데블스플랜 시즌2에 등장한 체스 퍼즐 '기사의 여행'을 플레이하고 나이트 퍼즐의 도전을 즐겨보세요.",
    "genre": ["퍼즐", "두뇌 게임", "체스"],
    "inLanguage": "ko",
    "sameAs": [
      "https://ko.wikipedia.org/wiki/%EA%B8%B0%EC%82%AC%EC%9D%98_%EC%97%AC%ED%96%89",
      "https://www.netflix.com/kr/title/81688109",
      "https://en.wikipedia.org/wiki/Knight%27s_tour"
    ]
  }
  </script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H78FYYLN2B"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-H78FYYLN2B');
  </script>

  <link rel="stylesheet" href="style.css" />
  <link rel="search" type="application/opensearchdescription+xml" title="기사의 여행 퍼즐" href="/opensearch.xml" />
</head>
<body>
  <button id="darkToggle">🌙</button>
  <h1>기사의 여행 퍼즐 🧩</h1>
  <p>퍼즐을 완주한 시간을 기록하고 전 세계 사람들과 경쟁해보세요!</p>

  <label>보드 크기 선택:
    <select id="sizeSelect">
      <option value="5">5x5</option>
      <option value="6">6x6</option>
      <option value="7">7x7</option>
      <option value="8" selected>8x8</option>
    </select>
  </label>

  <div id="status">시작할 칸을 클릭하세요.</div>
  <div id="timer">경과 시간: <span id="timeElapsed">0</span>초</div>
  <canvas id="confetti" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:999;display:none;"></canvas>
  <table id="board"></table>

  <div style="margin-top: 1em;">
    <button id="resetBtn">🔄 다시 시작</button>
    <button id="undoBtn">↩️ 되돌리기</button>
    <button id="hintBtn">💡 힌트 보기</button>
  </div>

  <h2>🏆 글로벌 랭킹</h2>
  <ol id="rankingList"></ol>

  <!-- ✅ 하단 공유 버튼 -->
  <div id="shareAreaBottom" style="text-align:center; margin-top: 2em;">
    <h3>🔗 퍼즐 공유하기</h3>
    <button id="shareNativeBtn" onclick="shareNative()">📱 기본 공유</button>
    <button onclick="shareOnTwitter()">X (트위터)</button>
    <button onclick="shareOnFacebook()">Facebook</button>
    <button onclick="shareKakao()">🟡 카카오톡</button>
    <button onclick="copyLink()">🔗 링크 복사</button>
  </div>

  <div id="utterances-container" style="margin-top: 2em;">
    <h2>💬 댓글</h2>
    <script src="https://utteranc.es/client.js"
            repo="hoony8355/knight-tour-comments"
            issue-term="pathname"
            label="comment"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
  </div>

  <!-- 외부 참고 링크 -->
  <footer style="margin-top: 4em; text-align: center; font-size: 0.9em;">
    <p>🔗 더 알아보기:</p>
    <ul style="list-style: none; padding: 0;">
      <li><a href="https://en.wikipedia.org/wiki/Knight%27s_tour" target="_blank">📚 Knight's Tour 위키백과 (영문)</a></li>
      <li><a href="https://ko.wikipedia.org/wiki/%EA%B8%B0%EC%82%AC%EC%9D%98_%EC%97%AC%ED%96%89" target="_blank">📘 기사 여행 위키백과 (한글)</a></li>
      <li><a href="https://www.netflix.com/kr/title/81688109" target="_blank">🎬 넷플릭스 데블스플랜 시즌2</a></li>
    </ul>
  </footer>

  <!-- ✅ 필수 스크립트 -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script type="module" src="firebase-init.js"></script>
  <script src="game.js"></script>

  <!-- ✅ 순서 중요: Kakao SDK > 공유 기능 스크립트 -->
  <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.5.0/kakao.min.js"
          integrity="sha384-xrF/y+KZjAxt3z07X8zQn3I0zVbCKIym92ApO0H6rIq0h1OMlz6Dx9aXigJHwNkm"
          crossorigin="anonymous"></script>
  <script src="share.js"></script>

  <!-- ✅ Web Share API 비지원 브라우저 대응 -->
  <script>
    if (!navigator.share) {
      document.querySelectorAll('#shareNativeBtn').forEach(btn => btn.style.display = 'none');
    }
  </script>
</body>
</html>
